(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),o=n(7),u=n(12),s=n(29);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={week:{requestTime:void 0,loading:!1,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]},day:{requestTime:void 0,loading:!1,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEEK_SENDED":return l({},e,{week:{requestTime:new Date,loading:!0,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}});case"RESPOND_WEEK_RCVD":return l({},e,{week:{requestTime:new Date("timestamp"),loading:!1,data:t.payload?t.payload.consolidated_weather:new Error("Server response is not valid")}});case"FETCH_DAY_SENDED":return l({},e,{day:{requestTime:new Date("timestamp"),loading:!0,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}});case"RESPOND_DAY_RCVD":return l({},e,{day:{requestTime:new Date,loading:!1,data:t.payload?t.payload.consolidated_weather:new Error("Server response is not valid")}});default:return e}},m=Object(o.combineReducers)({weather:f}),h=n(30),w=n(31),b=n(18),v=n(9),g=n(2),E=n(3);function _(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 300px;\n    height: 100%;\n    position: relative;\n    width: 25em;\n    justify-content: space-between;\n"]);return _=function(){return e},e}function y(){var e=Object(g.a)(["\n    align-items: center;\n    padding-right: 20px;\n"]);return y=function(){return e},e}function O(){var e=Object(g.a)(["\n\n"]);return O=function(){return e},e}function j(){var e=Object(g.a)(["\n\n"]);return j=function(){return e},e}function x(){var e=Object(g.a)(["\n    flex-direction: column;\n    justify-content: center;\n"]);return x=function(){return e},e}function D(){var e=Object(g.a)(["\n"]);return D=function(){return e},e}function F(){var e=Object(g.a)(["\n    width: 100%;\n    height: 100%;\n    position: relative;\n    width: 25em;\n    justify-content: space-between;\n"]);return F=function(){return e},e}function k(){var e=Object(g.a)(["\n    display: flex;\n"]);return k=function(){return e},e}function S(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: #F9F9F9;\n    padding: 30px 0px;\n"]);return S=function(){return e},e}function T(){var e=Object(g.a)(["\n  border-radius: 28px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 20px;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n  background: #3498db;\n  &.active {\n    background: transparent;\n    color: black;\n  }\n"]);return T=function(){return e},e}var C=Object(E.a)(b.b)(T()),W=(E.a.div(S()),E.a.div(k())),R=Object(E.a)(W)(F()),q=E.a.img(D()),A=Object(E.a)(W)(x()),P=Object(E.a)(W)(j()),N=Object(E.a)(W)(O()),L=Object(E.a)(W)(y()),M=E.a.div(_());function Y(){return r.a.createElement(M,null,r.a.createElement(C,{to:"/today"},"Today"),r.a.createElement(C,{to:"/week"},"Week"))}function H(){var e=Object(g.a)(["\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 30px 0px;\n"]);return H=function(){return e},e}var K=E.a.div(H(),(function(e){return t=e.weatherState,"/today"!==e.location.pathname?"#F9F9F9":/Cloud/.test(t)||/Rain/.test(t)?"#EAEAEA":/Clear/.test(t)||/Light/.test(t)||/Showers/.test(t)?"#FFF7E0":"#F9F9F9";var t})),U=Object(v.f)(Object(u.b)((function(e){if(e.weather.day.data instanceof Error)throw e.weather.day.data;return{weatherState:e.weather.day.data[0].weather_state_name}}),null)(K));n(51);var V=function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))};function B(){var e=Object(g.a)(["\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 30px;\n"]);return B=function(){return e},e}function z(){var e=Object(g.a)(["\n    background: ",";\n    width: 100%;\n    justify-content: center;\n    padding: 0.5em 0em;\n"]);return z=function(){return e},e}function I(){var e=Object(g.a)(["\n    display: flex;\n"]);return I=function(){return e},e}var J=E.a.div(I()),G=Object(E.a)(J)(z(),(function(e){return t=e.weatherState,/Clear/.test(t)||/Light/.test(t)||/Showers/.test(t)||/Light Cloud/.test(t)?"#FFF7E0":/Clear/.test(t)||/Light/.test(t)||/Showers/.test(t)||/Light Cloud/.test(t)?"#FFF7E0":"#F9F9F9";var t})),Q=Object(E.a)(J)(B()),X=function(e){var t=e.data,n=e.loading,c=e.requestTime,i=e.getWeatherForWeek;if(t instanceof Error)throw t;Object(a.useEffect)((function(){i(c)}),[]);return n?r.a.createElement(V,null):r.a.createElement(Q,null,t.map((function(e){var t,n=e.applicable_date,a=e.max_temp,c=void 0===a?0:a,i=e.min_temp,o=void 0===i?0:i,u=e.weather_state_abbr,s=e.weather_state_name,d=e.id,l=void 0===d?0:d,p=new Date(n),f=p.getDate(),m=p.toLocaleString("default",{weekday:"long"}),h=p.toLocaleString("default",{month:"short"}),w=m.charAt(0).toUpperCase()+m.slice(1),b=h.charAt(0).toUpperCase()+h.slice(1);return r.a.createElement(G,{weatherState:s,key:l},r.a.createElement(R,null,r.a.createElement(A,null,r.a.createElement(P,null,w),"".concat(f," ").concat(b)),r.a.createElement(N,null,r.a.createElement(L,null,Math.round(c)," / ",Math.round(o)),r.a.createElement(q,{src:(t=u,"https://www.metaweather.com/static/img/weather/".concat(t,".svg"))}))))})))},Z=n(13),$=n.n(Z),ee=n(16),te=n(35),ne=new function e(){var t=this;Object(te.a)(this,e),this._apiBase="https://cors-anywhere.herokuapp.com/metaweather.com/api/location/",this._woeid="2122265",this.getResource=function(){var e=Object(ee.a)($.a.mark((function e(n){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status));case 5:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getWeatherForWeek=function(){return t.getResource(t._woeid)},this.getWeatherForToday=function(){var e=(new Date).toISOString().substring(0,10).replace(/-/g,"/");return t.getResource("".concat(t._woeid,"/").concat(e))}},ae=function(e){return{type:"RESPOND_WEEK_RCVD",payload:e}},re=function(e){return{type:"RESPOND_DAY_RCVD",payload:e}},ce=function(e){return e&&(new Date).getSeconds()-e.getSeconds()<1e3?{type:"DUMMY"}:function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_DAY_SENDED"}),e.next=3,ne.getWeatherForToday();case 3:e.t0=e.sent,n={consolidated_weather:e.t0},t(re(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=Object(u.b)((function(e){return{requestTime:e.weather.week.requestTime,data:e.weather.week.data,loading:e.weather.week.loading}}),(function(e){return{getWeatherForWeek:Object(o.bindActionCreators)((function(e){return function(e){return e&&(new Date).toLocaleDateString()===(new Date).toLocaleDateString()?{type:"DUMMY"}:function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEEK_SENDED"}),e.next=3,ne.getWeatherForWeek();case 3:n=e.sent,t(ae(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)}),e)}}))(X),oe=n(36);function ue(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    flex-direction: column;\n    align-items: center;\n    maw-height: 15em;\n    padding: 2em;\n"]);return ue=function(){return e},e}function se(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    maw-height: 15em;\n    padding: 2em;\n    font-size: 2em;\n"]);return se=function(){return e},e}function de(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    maw-height: 15em;\n    padding: 3em;\n"]);return de=function(){return e},e}function le(){var e=Object(g.a)(["\n    display: flex;\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 30px;\n"]);return le=function(){return e},e}var pe=E.a.div(le()),fe=E.a.img(de()),me=E.a.div(se()),he=E.a.div(ue()),we=function(e){var t=e.data,n=e.loading,c=e.requestTime,i=e.getWeatherForDay;if(t instanceof Error)throw t;var o=Object(a.useState)(t[0]),u=Object(oe.a)(o,2),s=u[0],d=u[1];if(Object(a.useEffect)((function(){d(t[0])}),[t]),Object(a.useEffect)((function(){i(c)}),[]),n)return r.a.createElement(V,null);var l,p,f,m=s.weather_state_abbr,h=s.weather_state_name,w=s.the_temp,b=s.created;return b&&(l=b.split("T")[1].slice(0,5)),w&&(p=Math.round(w)),r.a.createElement(pe,{weatherState:h},r.a.createElement(fe,{src:(f=m,"https://www.metaweather.com/static/img/weather/png/".concat(f,".png"))}),r.a.createElement(me,null,p,"\xb0"),r.a.createElement(he,null,l,r.a.createElement("p",null,"Moscow, RF")))},be=Object(u.b)((function(e){return{requestTime:e.weather.day.requestTime,data:e.weather.day.data,loading:e.weather.day.loading}}),(function(e){return{getWeatherForDay:Object(o.bindActionCreators)(ce,e)}}))(we);var ve=Object(h.composeWithDevTools)({}),ge=Object(o.createStore)(m,ve(Object(o.applyMiddleware)(w.a)));i.a.render(r.a.createElement(u.a,{store:ge},r.a.createElement((function(){return r.a.createElement(b.a,null,r.a.createElement(U,null,r.a.createElement(Y,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/week",exact:!0,component:ie}),r.a.createElement(v.a,{path:"/today",exact:!0,component:be}))))}),null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.782da4d5.chunk.js.map
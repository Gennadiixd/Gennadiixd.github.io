(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),o=n(7),u=n(11),d=n(29);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={week:{requestTime:void 0,loading:!1,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]},day:{requestTime:void 0,loading:!1,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEEK_SENDED":return s({},e,{week:{requestTime:new Date,loading:!0,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}});case"RESPOND_WEEK_RCVD":return s({},e,{week:{requestTime:new Date("timestamp"),loading:!1,data:t.payload?t.payload.consolidated_weather:new Error("Server response is not valid")}});case"FETCH_DAY_SENDED":return s({},e,{day:{requestTime:new Date("timestamp"),loading:!0,data:[{applicable_date:"",weather_state_abbr:"",weather_state_name:"",max_temp:void 0,min_temp:void 0,id:void 0,the_temp:void 0,created:""}]}});case"RESPOND_DAY_RCVD":return s({},e,{day:{requestTime:new Date,loading:!1,data:t.payload?t.payload.consolidated_weather:new Error("Server response is not valid")}});default:return e}},m=Object(o.combineReducers)({weather:f}),h=n(30),w=n(31),b=n(18),v=n(12),g=n(2),E=n(3);function _(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 300px;\n    height: 100%;\n    position: relative;\n    width: 25em;\n    justify-content: space-between;\n"]);return _=function(){return e},e}function y(){var e=Object(g.a)(["\n    align-items: center;\n    padding-right: 20px;\n"]);return y=function(){return e},e}function O(){var e=Object(g.a)(["\n\n"]);return O=function(){return e},e}function j(){var e=Object(g.a)(["\n\n"]);return j=function(){return e},e}function x(){var e=Object(g.a)(["\n    flex-direction: column;\n    justify-content: center;\n"]);return x=function(){return e},e}function D(){var e=Object(g.a)(["\n"]);return D=function(){return e},e}function k(){var e=Object(g.a)(["\n    width: 100%;\n    height: 100%;\n    position: relative;\n    width: 25em;\n    justify-content: space-between;\n"]);return k=function(){return e},e}function S(){var e=Object(g.a)(["\n    display: flex;\n"]);return S=function(){return e},e}function F(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: #F9F9F9;\n    padding: 30px 0px;\n"]);return F=function(){return e},e}function T(){var e=Object(g.a)(["\n  border-radius: 28px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 20px;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n  background: #3498db;\n  &.active {\n    background: transparent;\n    color: black;\n  }\n"]);return T=function(){return e},e}var W=Object(E.a)(b.b)(T()),C=(E.a.div(F()),E.a.div(S())),R=Object(E.a)(C)(k()),q=E.a.img(D()),A=Object(E.a)(C)(x()),P=Object(E.a)(C)(j()),N=Object(E.a)(C)(O()),M=Object(E.a)(C)(y()),Y=E.a.div(_());function L(){return r.a.createElement(Y,null,r.a.createElement(W,{to:"/today"},"Today"),r.a.createElement(W,{to:"/week"},"Week"))}var H=function(e){return/Cloud/.test(e)||/Rain/.test(e)?"#EAEAEA":/Clear/.test(e)||/Light/.test(e)||/Showers/.test(e)?"#FFF7E0":"default"===e?"#F9F9F9":""};function K(){var e=Object(g.a)(["\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 30px 0px;\n"]);return K=function(){return e},e}var U=E.a.div(K(),(function(e){return H(e.weatherState)})),V=Object(u.b)((function(e){if(e.weather.day.data instanceof Error)throw e.weather.day.data;return{weatherState:e.weather.day.data[0].weather_state_name}}),null)(U);n(51);var B=function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))};function z(){var e=Object(g.a)(["\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 30px;\n"]);return z=function(){return e},e}function I(){var e=Object(g.a)(["\n    background: ",";\n    width: 100%;\n    justify-content: center;\n    padding: 0.5em 0em;\n"]);return I=function(){return e},e}function J(){var e=Object(g.a)(["\n    display: flex;\n"]);return J=function(){return e},e}var G=E.a.div(J()),Q=Object(E.a)(G)(I(),(function(e){return H(e.weatherState)})),X=Object(E.a)(G)(z()),Z=function(e){var t=e.data,n=e.loading,c=e.requestTime,i=e.getWeatherForWeek;if(t instanceof Error)throw t;Object(a.useEffect)((function(){i(c)}),[]);return n?r.a.createElement(B,null):r.a.createElement(X,null,t.map((function(e){var t,n=e.applicable_date,a=e.max_temp,c=void 0===a?0:a,i=e.min_temp,o=void 0===i?0:i,u=e.weather_state_abbr,d=e.weather_state_name,l=e.id,s=void 0===l?0:l,p=new Date(n),f=p.getDate(),m=p.toLocaleString("default",{weekday:"long"}),h=p.toLocaleString("default",{month:"short"}),w=m.charAt(0).toUpperCase()+m.slice(1),b=h.charAt(0).toUpperCase()+h.slice(1);return r.a.createElement(Q,{weatherState:d,key:s},r.a.createElement(R,null,r.a.createElement(A,null,r.a.createElement(P,null,w),"".concat(f," ").concat(b)),r.a.createElement(N,null,r.a.createElement(M,null,Math.round(c)," / ",Math.round(o)),r.a.createElement(q,{src:(t=u,"https://www.metaweather.com/static/img/weather/".concat(t,".svg"))}))))})))},$=n(13),ee=n.n($),te=n(16),ne=n(35),ae=new function e(){var t=this;Object(ne.a)(this,e),this._apiBase="https://cors-anywhere.herokuapp.com/metaweather.com/api/location/",this._woeid="2122265",this.getResource=function(){var e=Object(te.a)(ee.a.mark((function e(n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status));case 5:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getWeatherForWeek=function(){return t.getResource(t._woeid)},this.getWeatherForToday=function(){var e=(new Date).toISOString().substring(0,10).replace(/-/g,"/");return t.getResource("".concat(t._woeid,"/").concat(e))}},re=function(e){return{type:"RESPOND_WEEK_RCVD",payload:e}},ce=function(e){return{type:"RESPOND_DAY_RCVD",payload:e}},ie=function(e){return e&&(new Date).getSeconds()-e.getSeconds()<1e3?{type:"DUMMY"}:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_DAY_SENDED"}),e.next=3,ae.getWeatherForToday();case 3:e.t0=e.sent,n={consolidated_weather:e.t0},t(ce(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=Object(u.b)((function(e){return{requestTime:e.weather.week.requestTime,data:e.weather.week.data,loading:e.weather.week.loading}}),(function(e){return{getWeatherForWeek:Object(o.bindActionCreators)((function(e){return function(e){return e&&(new Date).toLocaleDateString()===(new Date).toLocaleDateString()?{type:"DUMMY"}:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEEK_SENDED"}),e.next=3,ae.getWeatherForWeek();case 3:n=e.sent,t(re(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)}),e)}}))(Z),ue=n(36);function de(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    flex-direction: column;\n    align-items: center;\n    maw-height: 15em;\n    padding: 2em;\n"]);return de=function(){return e},e}function le(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    maw-height: 15em;\n    padding: 2em;\n    font-size: 2em;\n"]);return le=function(){return e},e}function se(){var e=Object(g.a)(["\n    display: flex;\n    max-width: 15em;\n    maw-height: 15em;\n    padding: 3em;\n"]);return se=function(){return e},e}function pe(){var e=Object(g.a)(["\n    display: flex;\n    height: 100%;\n    width: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 30px;\n"]);return pe=function(){return e},e}var fe=E.a.div(pe()),me=E.a.img(se()),he=E.a.div(le()),we=E.a.div(de()),be=function(e){var t=e.data,n=e.loading,c=e.requestTime,i=e.getWeatherForDay;if(t instanceof Error)throw t;var o=Object(a.useState)(t[0]),u=Object(ue.a)(o,2),d=u[0],l=u[1];if(Object(a.useEffect)((function(){l(t[0])}),[t]),Object(a.useEffect)((function(){i(c)}),[]),n)return r.a.createElement(B,null);var s,p,f,m=d.weather_state_abbr,h=d.weather_state_name,w=d.the_temp,b=d.created;return b&&(s=b.split("T")[1].slice(0,5)),w&&(p=Math.round(w)),r.a.createElement(fe,{weatherState:h},r.a.createElement(me,{src:(f=m,"https://www.metaweather.com/static/img/weather/png/".concat(f,".png"))}),r.a.createElement(he,null,p,"\xb0"),r.a.createElement(we,null,s,r.a.createElement("p",null,"Moscow, RF")))},ve=Object(u.b)((function(e){return{requestTime:e.weather.day.requestTime,data:e.weather.day.data,loading:e.weather.day.loading}}),(function(e){return{getWeatherForDay:Object(o.bindActionCreators)(ie,e)}}))(be);var ge=Object(h.composeWithDevTools)({}),Ee=Object(o.createStore)(m,ge(Object(o.applyMiddleware)(w.a)));i.a.render(r.a.createElement(u.a,{store:Ee},r.a.createElement((function(){return r.a.createElement(b.a,null,r.a.createElement(V,{weatherState:"default"},r.a.createElement(L,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/week",exact:!0,component:oe}),r.a.createElement(v.a,{path:"/today",exact:!0,component:ve}))))}),null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a6d9aeeb.chunk.js.map